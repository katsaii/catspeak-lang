<!DOCTYPE html>
<!--
    AUTOMATICALLY GENERATED USING THE CATSPEAK BOOK GENERATOR:
    https://github.com/katsaii/catspeak-lang
--><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="author" content="Katsaii"><meta name="description" content="Documentation for the the Catspeak compiler backend."><title>Catspeak Reference :: struct CatspeakForeignInterface of Library Reference</title><link rel="stylesheet" href="./style.css"><script>function copyToClipboard(id) {
    let e = document.getElementById(id);
    navigator.clipboard.writeText(e.textContent);
}</script><noscript><style>a.code-copy { display : none }</style></noscript></head><body><header><h1>Catspeak Reference</h1><nav><ul><li><a href="hom-welcome.html">Home</a></li><li><a href="lan-overview.html">Language Reference</a></li><li><a href="lib-init.html"><mark>Library Reference</mark></a></li></ul></nav><hr></header><article id="chapter-content"><aside id="chapters"><h2>Chapters</h2><ul><li><a href="lib-init.html">init</a></li><li><a href="lib-environment.html">environment</a><ul><li><a href="lib-struct-catspeakenvironment.html">struct CatspeakEnvironment</a></li><li><a href="lib-struct-catspeakforeigninte+s.html"><mark>struct CatspeakForeignInterface</mark></a></li></ul></li><li><a href="lib-presets.html">presets</a></li><li><a href="lib-lexer.html">lexer</a></li><li><a href="lib-parser.html">parser</a></li><li><a href="lib-codegen.html">codegen</a></li><li><a href="lib-ir.html">ir</a></li></ul></aside><aside id="contents"><h2>Contents</h2><ul><li><a href="#addbanlist">addBanList</a></li><li><a href="#addpardonlist">addPardonList</a></li><li><a href="#exists">exists</a></li><li><a href="#exposeasset">exposeAsset</a></li><li><a href="#exposeassetbytag">exposeAssetByTag</a></li><li><a href="#exposeconstant">exposeConstant</a></li><li><a href="#exposedynamicconstant">exposeDynamicConstant</a></li><li><a href="#exposeeverythingidontcareifmod+s">exposeEverythingIDontCareIfModdersCanEditUsersSaveFilesJustLetMeDoThis</a></li><li><a href="#exposefunction">exposeFunction</a></li><li><a href="#exposefunctionbyname">exposeFunctionByName</a></li><li><a href="#exposefunctionbyprefix">exposeFunctionByPrefix</a></li><li><a href="#exposemethod">exposeMethod</a></li><li><a href="#exposemethodbyname">exposeMethodByName</a></li><li><a href="#get">get</a></li><li><a href="#isdynamicconstant">isDynamicConstant</a></li></ul></aside><main><article><h1 class="chapter-title">struct CatspeakForeignInterface</h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-0')">Copy</a><code id="cb-0"><span class="kw-key">function</span> <span class="kw-typ">CatspeakForeignInterface</span>() <span class="kw-key">constructor</span> { 
  <span class="kw-val">self</span>.<span class="kw-var">exposeEverythingIDontCareIfModdersCanEditUsersSaveFilesJustLetMeDoThis</span>;
  <span class="kw-com">// 3 fields omitted</span>
}</code></pre><p>Used by Catspeak code generators to expose foreign GML functions,
constants, and properties to the generated Catspeak programs.</p><section><h1 class="heading" id="addbanlist"><a href="#addbanlist">§</a> addBanList<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-1')">Copy</a><code id="cb-1"><span class="kw-key">static</span> <span class="kw-var">addBanList</span> = <span class="kw-key">function</span>(
  <span class="kw-var">ban</span> : <span class="kw-typ">String</span>,
)</code></pre><p>Bans an array of symbols from being used by this interface. Any
symbols in this list will be treated as though they do not exist. To
unban a set of symbols, you should use the <code class="inline-code">addPardonList</code> method.</p><p>If a symbol was previously banned, this function will have no effect.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">ban</code></p><p>The symbol to ban the usage of from within Catspeak.</p></li></ul></section><section><h1 class="heading" id="addpardonlist"><a href="#addpardonlist">§</a> addPardonList<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-2')">Copy</a><code id="cb-2"><span class="kw-key">static</span> <span class="kw-var">addPardonList</span> = <span class="kw-key">function</span>(
  <span class="kw-var">pardon</span> : <span class="kw-typ">String</span>,
)</code></pre><p>Pardons an array of symbols within this interface.</p><p>If a symbol was not previously banned by <code class="inline-code">addBanList</code>, there will be
no effect.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">pardon</code></p><p>The symbol to pardon the usage of from within Catspeak.</p></li></ul></section><section><h1 class="heading" id="exists"><a href="#exists">§</a> exists<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-3')">Copy</a><code id="cb-3"><span class="kw-key">static</span> <span class="kw-var">exists</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
) -> <span class="kw-typ">Bool</span></code></pre><p>Returns whether a foreign symbol is exposed to this interface.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the symbol as it appears in Catspeak.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Bool</code></p></section><section><h1 class="heading" id="exposeasset"><a href="#exposeasset">§</a> exposeAsset<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-4')">Copy</a><code id="cb-4"><span class="kw-key">static</span> <span class="kw-var">exposeAsset</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
)</code></pre><p>Exposes a GameMaker asset from the resource tree to this interface.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the GM asset that you wish to expose to Catspeak.</p></li></ul></section><section><h1 class="heading" id="exposeassetbytag"><a href="#exposeassetbytag">§</a> exposeAssetByTag<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-5')">Copy</a><code id="cb-5"><span class="kw-key">static</span> <span class="kw-var">exposeAssetByTag</span> = <span class="kw-key">function</span>(
  <span class="kw-var">tag</span> : <span class="kw-typ">Any</span>,
)</code></pre><p>Exposes a set of tagged GameMaker assets to this interface.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">tag</code></p><p>The name of a tag, or array of tags, of assets to expose to Catspeak.</p></li></ul></section><section><h1 class="heading" id="exposeconstant"><a href="#exposeconstant">§</a> exposeConstant<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-6')">Copy</a><code id="cb-6"><span class="kw-key">static</span> <span class="kw-var">exposeConstant</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">value</span> : <span class="kw-typ">Any</span>,
)</code></pre><p>Exposes a constant value to this interface.</p><blockquote class="remark"><strong>📝 Note</strong><p>You cannot expose GML functions using this method. Instead you
should use one of <code class="inline-code">exposeDynamicConstant</code>, <code class="inline-code">exposeFunction</code>, or
<code class="inline-code">exposeMethod</code>.</p></blockquote><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the constant as it will appear in Catspeak.</p></li><li><p><code class="inline-code">value</code></p><p>The constant value to add.</p></li></ul></section><section><h1 class="heading" id="exposedynamicconstant"><a href="#exposedynamicconstant">§</a> exposeDynamicConstant<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-7')">Copy</a><code id="cb-7"><span class="kw-key">static</span> <span class="kw-var">exposeDynamicConstant</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">func</span> : <span class="kw-typ">Function</span>,
)</code></pre><blockquote class="stab experimental"><strong>🔬 This is an experimental feature. It may change at any moment.</strong></blockquote><p>Exposes a "dynamic constant" to this interface. The value provided for
the constant should be a script or method. When the dynamic constant
is evaluated at runtime, the method will be executed with zero
arguments and the return value used as the value of the constant.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the constant as it will appear in Catspeak.</p></li><li><p><code class="inline-code">func</code></p><p>The script ID or function to add.</p></li></ul></section><section><h1 class="heading" id="exposeeverythingidontcareifmod+s"><a href="#exposeeverythingidontcareifmod+s">§</a> exposeEverythingIDontCareIfModdersCanEditUsersSaveFilesJustLetMeDoThis<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-8')">Copy</a><code id="cb-8"><span class="kw-val">self</span>.<span class="kw-var">exposeEverythingIDontCareIfModdersCanEditUsersSaveFilesJustLetMeDoThis</span></code></pre><blockquote class="stab experimental"><strong>🔬 This is an experimental feature. It may change at any moment.</strong></blockquote><p>Whether to expose every symbol available to Catspeak programs. This will
attempt to expose all functions, assets, constants, and global properties
available in the GameMaker language (with a few exceptions).</p><blockquote class="remark"><strong>📝 Note</strong><p><strong>Does not</strong> support the physics capabilities of GameMaker because of some
weird quirks with how functions are bound.</p></blockquote><blockquote class="warning"><strong>⚠️ Warning</strong><p>Potentially extremely slow, since every global variable will iterate over
a massive list of constants and functions in order to find a reference.</p></blockquote><blockquote class="warning"><strong>⚠️ Warning</strong><p>This turns off sandboxing in Catspeak, and as a result modders will be
able to access everything about your game state, its global variables,
user save files (and potentially corrupt them), unlock achievements,
cheat, access sensitive information such as API keys (if they are stored
in variables), and much more that I can't think of right now.</p><p>If this sounds okay with you, set this property to <code class="inline-code">true</code>, and all bets
are off. You will meet God.</p></blockquote></section><section><h1 class="heading" id="exposefunction"><a href="#exposefunction">§</a> exposeFunction<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-9')">Copy</a><code id="cb-9"><span class="kw-key">static</span> <span class="kw-var">exposeFunction</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">func</span> : <span class="kw-typ">Function</span>,
)</code></pre><p>Exposes a new unbound function to this interface. When passed a bound
method (i.e. a non-global function), it will be unbound before it is
added to the interface.</p><blockquote class="remark"><strong>📝 Note</strong><p>If you would prefer to keep the bound <code class="inline-code">self</code> of a method, you should
use the <code class="inline-code">exposeMethod</code> method instead.</p></blockquote><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the function as it will appear in Catspeak.</p></li><li><p><code class="inline-code">func</code></p><p>The script ID or function to add.</p></li></ul></section><section><h1 class="heading" id="exposefunctionbyname"><a href="#exposefunctionbyname">§</a> exposeFunctionByName<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-10')">Copy</a><code id="cb-10"><span class="kw-key">static</span> <span class="kw-var">exposeFunctionByName</span> = <span class="kw-key">function</span>(
  <span class="kw-var">func</span> : <span class="kw-typ">Function</span>,
)</code></pre><p>Behaves similarly to <code class="inline-code">exposeFunction</code>, except the name of definition
is inferred. There are three ways this name will be inferred:</p><ul><li><p>If the value is a script resource, <code class="inline-code">script_get_name</code> is used.</p></li><li><p>If the value is a method and a <code class="inline-code">name</code> field exists, then the value
of this <code class="inline-code">name</code> field will be used as the name.</p></li><li><p>If the value is a method and a <code class="inline-code">name</code> field does not exist, then
<code class="inline-code">script_get_name</code> will be called on the underlying bound script
resource.</p></li></ul><blockquote class="remark"><strong>📝 Note</strong><p>If you would prefer to keep the bound <code class="inline-code">self</code> of a method, you should
use the <code class="inline-code">exposeMethodByName</code> method instead.</p></blockquote><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">func</code></p><p>The script ID or function to add.</p></li></ul></section><section><h1 class="heading" id="exposefunctionbyprefix"><a href="#exposefunctionbyprefix">§</a> exposeFunctionByPrefix<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-11')">Copy</a><code id="cb-11"><span class="kw-key">static</span> <span class="kw-var">exposeFunctionByPrefix</span> = <span class="kw-key">function</span>(
  <span class="kw-var">namespace</span> : <span class="kw-typ">String</span>,
)</code></pre><p>Exposes many user-defined global GML functions to this interface which
share a common prefix.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">namespace</code></p><p>The common prefix for the set of functions you want to expose to
Catspeak.</p></li></ul></section><section><h1 class="heading" id="exposemethod"><a href="#exposemethod">§</a> exposeMethod<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-12')">Copy</a><code id="cb-12"><span class="kw-key">static</span> <span class="kw-var">exposeMethod</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">func</span> : <span class="kw-typ">Function</span>,
)</code></pre><p>Exposes a new bound function to this interface.</p><blockquote class="remark"><strong>📝 Note</strong><p>If you would prefer to ignore the bound <code class="inline-code">self</code> value of the function,
and treat it as a global script, you should use the <code class="inline-code">exposeFunction</code>
method instead.</p></blockquote><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the method as it will appear in Catspeak.</p></li><li><p><code class="inline-code">func</code></p><p>The script ID or method to add.</p></li></ul></section><section><h1 class="heading" id="exposemethodbyname"><a href="#exposemethodbyname">§</a> exposeMethodByName<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-13')">Copy</a><code id="cb-13"><span class="kw-key">static</span> <span class="kw-var">exposeMethodByName</span> = <span class="kw-key">function</span>(
  <span class="kw-var">func</span> : <span class="kw-typ">Function</span>,
)</code></pre><p>Behaves similarly to <code class="inline-code">exposeMethod</code>, except the name of definition
is inferred. There are three ways a name will be inferred:</p><ul><li><p>If the value is a script resource, <code class="inline-code">script_get_name</code> is used.</p></li><li><p>If the value is a method and a <code class="inline-code">name</code> field exists, then the value
of this <code class="inline-code">name</code> field will be used as the name.</p></li><li><p>If the value is a method and a <code class="inline-code">name</code> field does not exist, then
<code class="inline-code">script_get_name</code> will be called on the underlying bound script
resource.</p></li></ul><blockquote class="remark"><strong>📝 Note</strong><p>If you would prefer to ignore the bound <code class="inline-code">self</code> value of the function,
and treat it as a global script, you should use the
<code class="inline-code">exposeFunctionByName</code> method instead.</p></blockquote><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">func</code></p><p>The script ID or method to add.</p></li></ul></section><section><h1 class="heading" id="get"><a href="#get">§</a> get<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-14')">Copy</a><code id="cb-14"><span class="kw-key">static</span> <span class="kw-var">get</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
) -> <span class="kw-typ">Any</span></code></pre><p>Returns the value of a foreign symbol exposed to this interface.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the symbol as it appears in Catspeak.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Any</code></p></section><section><h1 class="heading" id="isdynamicconstant"><a href="#isdynamicconstant">§</a> isDynamicConstant<a href="#" class="heading-top">top ^</a></h1><pre class="code-block" lang="gml"><div class="code-triangle"></div><div class="code-title">GameMaker Language (.gml)</div><a class="code-copy" onclick="copyToClipboard('cb-15')">Copy</a><code id="cb-15"><span class="kw-key">static</span> <span class="kw-var">isDynamicConstant</span> = <span class="kw-key">function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
) -> <span class="kw-typ">Bool</span></code></pre><blockquote class="stab experimental"><strong>🔬 This is an experimental feature. It may change at any moment.</strong></blockquote><p>Returns whether the foreign symbol is a "dynamic constant".
If the symbol hasn't been added then this function returns <code class="inline-code">false</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the symbol as it appears in Catspeak.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Bool</code></p></section></article></main></article><footer><hr><article><em id="brand">Built using Catlog, the <a href="https://www.katsaii.com/catspeak-lang/">Catspeak</a> book generator.</em></article><article></article></footer></body></html>